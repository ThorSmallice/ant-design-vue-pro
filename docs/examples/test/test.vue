<template>
    <div class="h-[800px] overflow-hidden flex">
        <div class="flex-1 w-full overflow-hidden">
            <Table
                isTree
                full
                :params="params"
                :show-expand-column="true"
                ref="tableRef"
                columns-align="center"
                :index-column-width="60"
                :columns="columns"
                :query-form-items="queryFormItems"
                template-file-name="用户列表模板.xlsx"
                export-file-name="用户列表数据.xlsx"
                :apis="apis"
                :own-pagin="false"
                @before-request-source="beforeRequest"
                @source-success="handleSourceSuccess"
            >
                <template #customCiesBtns>
                    <Button @click="changeA">a++</Button>
                </template>
            </Table>
        </div>
    </div>
</template>

<script setup lang="tsx">
import {
    createUserApi,
    deleteUserApi,
    downloadUserTemplateByBlobApi,
    exportUsersByBufferApi,
    getUserDetailsApi,
    getUsersPageApi,
    importUserApi,
    updateUserApi,
} from '@docs/apis/user'
import { Button, Space } from 'ant-design-vue'
import { ControlMapType, Table, TableProps } from 'antd-vue-dbthor'
import { template } from 'es-toolkit/compat'
import { computed, onMounted, ref } from 'vue'
const tableRef = ref<InstanceType<typeof Table>>() // 表格实例
const a = ref(null)
const changeA = () => {
    a.value = Math.random()
}
const params = computed(() => {
    return {
        a: a.value,
    }
})
const beforeRequest = async (params) => {
    if (!params.a) {
        return false
    }
}
const getListApis = async () => {
    return new Promise((resolve) => {
        setTimeout(() => {
            resolve({
                data: {
                    list: [
                        {
                            id: '1993957760546762754',
                            parentId: null,
                            companyId: '1990302269875875842',
                            typeId: null,
                            modelId: null,
                            manufacturerId: null,
                            category: '监测站房',
                            name: '上阳站',
                            code: 'zs-01',
                            sn: null,
                            model: null,
                            manufacturer: null,
                            parentName: null,
                            parentPaths: null,
                            usePeriod: null,
                            enableTime: null,
                            status: '启用',
                            remark: null,
                            type: null,
                            position: null,
                            createTime: '2025-11-27 16:19:11',
                            purchaseTime: null,
                            longitude: null,
                            latitude: null,
                            address: null,
                            files: [],
                            no: '1',
                            children: [
                                {
                                    id: '1993957760563539969',
                                    parentId: '1993957760546762754',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764619',
                                    manufacturerId: '1993957759657570306',
                                    category: '分析仪',
                                    name: '开放式傅里叶红外光谱分析仪',
                                    code: 'ZSFTIR-001',
                                    sn: 'F20F29027',
                                    model: 'RS-12-X',
                                    manufacturer: '硕杰企业股份有限公司',
                                    parentName: '上阳站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '1-(1)',
                                    children: [
                                        {
                                            id: '1993957760139915265',
                                            parentId: '1993957760563539969',
                                            companyId: '1990302269875875842',
                                            typeId: null,
                                            modelId: null,
                                            manufacturerId: null,
                                            category: '配套设施（监测系统）',
                                            name: '反射镜',
                                            code: 'FTIR-01',
                                            sn: null,
                                            model: null,
                                            manufacturer: null,
                                            parentName: '开放式傅里叶红外光谱分析仪',
                                            parentPaths: null,
                                            usePeriod: null,
                                            enableTime: null,
                                            status: '启用',
                                            remark: null,
                                            type: null,
                                            position: null,
                                            createTime: '2025-11-27 16:19:11',
                                            purchaseTime: null,
                                            longitude: null,
                                            latitude: null,
                                            address: {
                                                formattedAddress: '',
                                            },
                                            files: null,
                                            no: '1-(1)-①',
                                            children: null,
                                        },
                                    ],
                                },
                                {
                                    id: '1993957760454488066',
                                    parentId: '1993957760546762754',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764620',
                                    manufacturerId: '1993957759661764613',
                                    category: '分析仪',
                                    name: '对射式差分吸收光谱分析仪',
                                    code: 'ZSDOAS-01',
                                    sn: 'E-0604',
                                    model: 'AR500',
                                    manufacturer: '广州嵘烨生环保产品有限公司',
                                    parentName: '上阳站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '1-(2)',
                                    children: [
                                        {
                                            id: '1993957760131526657',
                                            parentId: '1993957760454488066',
                                            companyId: '1990302269875875842',
                                            typeId: null,
                                            modelId: null,
                                            manufacturerId: null,
                                            category: '配套设施（监测系统）',
                                            name: '氙灯',
                                            code: 'DOAS-01',
                                            sn: null,
                                            model: null,
                                            manufacturer: null,
                                            parentName: '对射式差分吸收光谱分析仪',
                                            parentPaths: null,
                                            usePeriod: null,
                                            enableTime: null,
                                            status: '启用',
                                            remark: null,
                                            type: null,
                                            position: null,
                                            createTime: '2025-11-27 16:19:11',
                                            purchaseTime: null,
                                            longitude: null,
                                            latitude: null,
                                            address: {
                                                formattedAddress: '',
                                            },
                                            files: null,
                                            no: '1-(2)-①',
                                            children: null,
                                        },
                                    ],
                                },
                                {
                                    id: '1993957760441905153',
                                    parentId: '1993957760546762754',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: '1993957759661764614',
                                    category: '分析仪',
                                    name: '卤代烃在线监测仪',
                                    code: 'ZSECD-01',
                                    sn: '17120510',
                                    model: null,
                                    manufacturer: '上海磐合科学仪器股份有限公司',
                                    parentName: '上阳站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '1-(3)',
                                    children: [
                                        {
                                            id: '1993957760173469698',
                                            parentId: '1993957760441905153',
                                            companyId: '1990302269875875842',
                                            typeId: null,
                                            modelId: null,
                                            manufacturerId: '1993957759661764614',
                                            category: '配套设施（监测系统）',
                                            name: '氢气/空气一体机',
                                            code: 'ECD-01',
                                            sn: null,
                                            model: null,
                                            manufacturer: '上海磐合科学仪器股份有限公司',
                                            parentName: '卤代烃在线监测仪',
                                            parentPaths: null,
                                            usePeriod: null,
                                            enableTime: null,
                                            status: '启用',
                                            remark: null,
                                            type: null,
                                            position: null,
                                            createTime: '2025-11-27 16:19:11',
                                            purchaseTime: null,
                                            longitude: null,
                                            latitude: null,
                                            address: {
                                                formattedAddress: '',
                                            },
                                            files: null,
                                            no: '1-(3)-①',
                                            children: null,
                                        },
                                    ],
                                },
                                {
                                    id: '1993957760261550081',
                                    parentId: '1993957760546762754',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764617',
                                    manufacturerId: '1993957759661764610',
                                    category: '采集设备',
                                    name: '数据采集传输仪',
                                    code: 'YJ-2000-01',
                                    sn: null,
                                    model: 'YJ-2000',
                                    manufacturer: '广东中联兴环保科技有限公司',
                                    parentName: '上阳站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '1-(4)',
                                    children: null,
                                },
                                {
                                    id: '1993957760165081090',
                                    parentId: '1993957760546762754',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: null,
                                    category: '配套设施（监测系统）',
                                    name: '加热采样总管',
                                    code: 'CY-01',
                                    sn: null,
                                    model: null,
                                    manufacturer: null,
                                    parentName: '上阳站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '1-(5)',
                                    children: null,
                                },
                                {
                                    id: '1993957760152498177',
                                    parentId: '1993957760546762754',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764615',
                                    manufacturerId: null,
                                    category: '分析仪',
                                    name: '气象五参数仪',
                                    code: 'ZSQX-01',
                                    sn: null,
                                    model: 'MC500',
                                    manufacturer: null,
                                    parentName: '上阳站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '1-(6)',
                                    children: null,
                                },
                                {
                                    id: '1993957759833731074',
                                    parentId: '1993957760546762754',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: null,
                                    category: '配套设施',
                                    name: '监控录像机',
                                    code: 'ZSJKLX-01',
                                    sn: null,
                                    model: null,
                                    manufacturer: null,
                                    parentName: '上阳站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '1-(7)',
                                    children: null,
                                },
                            ],
                        },
                        {
                            id: '1993957760529985537',
                            parentId: null,
                            companyId: '1990302269875875842',
                            typeId: null,
                            modelId: null,
                            manufacturerId: null,
                            category: '监测站房',
                            name: '学院站',
                            code: 'zs-02',
                            sn: null,
                            model: null,
                            manufacturer: null,
                            parentName: null,
                            parentPaths: null,
                            usePeriod: null,
                            enableTime: null,
                            status: '启用',
                            remark: null,
                            type: null,
                            position: null,
                            createTime: '2025-11-27 16:19:11',
                            purchaseTime: null,
                            longitude: null,
                            latitude: null,
                            address: null,
                            files: [],
                            no: '2',
                            children: [
                                {
                                    id: '1993957760433516546',
                                    parentId: '1993957760529985537',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764616',
                                    manufacturerId: '1993957759661764612',
                                    category: '分析仪',
                                    name: '大气预浓缩气相色谱-质谱联用仪',
                                    code: 'ZSGCMS-01',
                                    sn: null,
                                    model: 'RYSS Tracer-MS',
                                    manufacturer: '鼎江科技有限公司',
                                    parentName: '学院站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '2-(1)',
                                    children: [
                                        {
                                            id: '1993957760030863361',
                                            parentId: '1993957760433516546',
                                            companyId: '1990302269875875842',
                                            typeId: null,
                                            modelId: null,
                                            manufacturerId: null,
                                            category: '配套设施（监测系统）',
                                            name: '氮气/空气一体机',
                                            code: 'GC-MS-01',
                                            sn: null,
                                            model: null,
                                            manufacturer: null,
                                            parentName: '大气预浓缩气相色谱-质谱联用仪',
                                            parentPaths: null,
                                            usePeriod: null,
                                            enableTime: null,
                                            status: '启用',
                                            remark: null,
                                            type: null,
                                            position: null,
                                            createTime: '2025-11-27 16:19:11',
                                            purchaseTime: null,
                                            longitude: null,
                                            latitude: null,
                                            address: {
                                                formattedAddress: '',
                                            },
                                            files: null,
                                            no: '2-(1)-①',
                                            children: null,
                                        },
                                    ],
                                },
                                {
                                    id: '1993957760420933633',
                                    parentId: '1993957760529985537',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764618',
                                    manufacturerId: '1993957759661764614',
                                    category: '分析仪',
                                    name: '气相色谱-氢火焰离子有机胺在线分析仪',
                                    code: 'ZSYJA-01',
                                    sn: null,
                                    model: 'AQA-1000',
                                    manufacturer: '上海磐合科学仪器股份有限公司',
                                    parentName: '学院站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '2-(2)',
                                    children: [
                                        {
                                            id: '1993957760043446274',
                                            parentId: '1993957760420933633',
                                            companyId: '1990302269875875842',
                                            typeId: null,
                                            modelId: null,
                                            manufacturerId: null,
                                            category: '配套设施（监测系统）',
                                            name: '氢气/空气一体机',
                                            code: 'YJA-02',
                                            sn: null,
                                            model: null,
                                            manufacturer: null,
                                            parentName: '气相色谱-氢火焰离子有机胺在线分析仪',
                                            parentPaths: null,
                                            usePeriod: null,
                                            enableTime: null,
                                            status: '启用',
                                            remark: null,
                                            type: null,
                                            position: null,
                                            createTime: '2025-11-27 16:19:11',
                                            purchaseTime: null,
                                            longitude: null,
                                            latitude: null,
                                            address: {
                                                formattedAddress: '',
                                            },
                                            files: null,
                                            no: '2-(2)-①',
                                            children: null,
                                        },
                                    ],
                                },
                                {
                                    id: '1993957760248967170',
                                    parentId: '1993957760529985537',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764617',
                                    manufacturerId: '1993957759661764610',
                                    category: '采集设备',
                                    name: '数据采集传输仪',
                                    code: 'YJ-2000-02',
                                    sn: null,
                                    model: 'YJ-2000',
                                    manufacturer: '广东中联兴环保科技有限公司',
                                    parentName: '学院站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '2-(3)',
                                    children: null,
                                },
                                {
                                    id: '1993957760018280449',
                                    parentId: '1993957760529985537',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: null,
                                    category: '配套设施（监测系统）',
                                    name: '加热采样总管',
                                    code: 'CY-03',
                                    sn: null,
                                    model: null,
                                    manufacturer: null,
                                    parentName: '学院站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '2-(4)',
                                    children: null,
                                },
                                {
                                    id: '1993957760005697538',
                                    parentId: '1993957760529985537',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764615',
                                    manufacturerId: null,
                                    category: '分析仪',
                                    name: '气象五参数仪',
                                    code: 'ZSQX-03',
                                    sn: null,
                                    model: 'MC500',
                                    manufacturer: null,
                                    parentName: '学院站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '2-(5)',
                                    children: null,
                                },
                                {
                                    id: '1993957759821148162',
                                    parentId: '1993957760529985537',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: null,
                                    category: '配套设施',
                                    name: '监控录像机',
                                    code: 'ZSJKLX-02',
                                    sn: null,
                                    model: null,
                                    manufacturer: null,
                                    parentName: '学院站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '2-(6)',
                                    children: null,
                                },
                            ],
                        },
                        {
                            id: '1993957760517402626',
                            parentId: null,
                            companyId: '1990302269875875842',
                            typeId: null,
                            modelId: null,
                            manufacturerId: null,
                            category: '监测站房',
                            name: '春江站',
                            code: 'zs-03',
                            sn: null,
                            model: null,
                            manufacturer: null,
                            parentName: null,
                            parentPaths: null,
                            usePeriod: null,
                            enableTime: null,
                            status: '启用',
                            remark: null,
                            type: null,
                            position: null,
                            createTime: '2025-11-27 16:19:11',
                            purchaseTime: null,
                            longitude: null,
                            latitude: null,
                            address: null,
                            files: [],
                            no: '3',
                            children: [
                                {
                                    id: '1993957760408350721',
                                    parentId: '1993957760517402626',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: '1993957759661764611',
                                    category: '分析仪',
                                    name: '氯化氢可调式激光光谱分析仪',
                                    code: 'ZSTDLAS-01',
                                    sn: 'LSR19114C',
                                    model: null,
                                    manufacturer: '优胜光分仪器南京有限公司',
                                    parentName: '春江站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '3-(1)',
                                    children: [
                                        {
                                            id: '1993957759716290562',
                                            parentId: '1993957760408350721',
                                            companyId: '1990302269875875842',
                                            typeId: null,
                                            modelId: null,
                                            manufacturerId: null,
                                            category: '配套设施（监测系统）',
                                            name: '反射镜组',
                                            code: 'TDLAS-01',
                                            sn: null,
                                            model: null,
                                            manufacturer: null,
                                            parentName: '氯化氢可调式激光光谱分析仪',
                                            parentPaths: null,
                                            usePeriod: null,
                                            enableTime: null,
                                            status: '启用',
                                            remark: null,
                                            type: null,
                                            position: null,
                                            createTime: '2025-11-27 16:19:11',
                                            purchaseTime: null,
                                            longitude: null,
                                            latitude: null,
                                            address: {
                                                formattedAddress: '',
                                            },
                                            files: null,
                                            no: '3-(1)-①',
                                            children: null,
                                        },
                                    ],
                                },
                                {
                                    id: '1993957760240578562',
                                    parentId: '1993957760517402626',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764617',
                                    manufacturerId: '1993957759661764610',
                                    category: '采集设备',
                                    name: '数据采集传输仪',
                                    code: 'YJ-2000-03',
                                    sn: null,
                                    model: 'YJ-2000',
                                    manufacturer: '广东中联兴环保科技有限公司',
                                    parentName: '春江站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '3-(2)',
                                    children: null,
                                },
                                {
                                    id: '1993957759934394369',
                                    parentId: '1993957760517402626',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764615',
                                    manufacturerId: null,
                                    category: '分析仪',
                                    name: '气象五参数仪',
                                    code: 'ZSQX-05',
                                    sn: null,
                                    model: 'MC500',
                                    manufacturer: null,
                                    parentName: '春江站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '3-(3)',
                                    children: null,
                                },
                                {
                                    id: '1993957759812759554',
                                    parentId: '1993957760517402626',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: null,
                                    category: '配套设施',
                                    name: '监控录像机',
                                    code: 'ZSJKLX-03',
                                    sn: null,
                                    model: null,
                                    manufacturer: null,
                                    parentName: '春江站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '3-(4)',
                                    children: null,
                                },
                            ],
                        },
                        {
                            id: '1993957760504819714',
                            parentId: null,
                            companyId: '1990302269875875842',
                            typeId: null,
                            modelId: null,
                            manufacturerId: null,
                            category: '监测站房',
                            name: '国宏站',
                            code: 'zs-04',
                            sn: null,
                            model: null,
                            manufacturer: null,
                            parentName: null,
                            parentPaths: null,
                            usePeriod: null,
                            enableTime: null,
                            status: '启用',
                            remark: null,
                            type: null,
                            position: null,
                            createTime: '2025-11-27 16:19:11',
                            purchaseTime: null,
                            longitude: null,
                            latitude: null,
                            address: null,
                            files: [],
                            no: '4',
                            children: [
                                {
                                    id: '1993957760395767809',
                                    parentId: '1993957760504819714',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764619',
                                    manufacturerId: '1993957759657570306',
                                    category: '分析仪',
                                    name: '开放式傅里叶红外光谱分析仪',
                                    code: 'ZSFTIR-002',
                                    sn: 'F20F28926',
                                    model: 'RS-12-X',
                                    manufacturer: '硕杰企业股份有限公司',
                                    parentName: '国宏站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '4-(1)',
                                    children: [
                                        {
                                            id: '1993957759993114626',
                                            parentId: '1993957760395767809',
                                            companyId: '1990302269875875842',
                                            typeId: null,
                                            modelId: null,
                                            manufacturerId: null,
                                            category: '配套设施（监测系统）',
                                            name: '反射镜',
                                            code: 'FTIR-02',
                                            sn: null,
                                            model: null,
                                            manufacturer: null,
                                            parentName: '开放式傅里叶红外光谱分析仪',
                                            parentPaths: null,
                                            usePeriod: null,
                                            enableTime: null,
                                            status: '启用',
                                            remark: null,
                                            type: null,
                                            position: null,
                                            createTime: '2025-11-27 16:19:11',
                                            purchaseTime: null,
                                            longitude: null,
                                            latitude: null,
                                            address: {
                                                formattedAddress: '',
                                            },
                                            files: null,
                                            no: '4-(1)-①',
                                            children: null,
                                        },
                                        {
                                            id: '1993957759980531713',
                                            parentId: '1993957760395767809',
                                            companyId: '1990302269875875842',
                                            typeId: null,
                                            modelId: null,
                                            manufacturerId: null,
                                            category: '配套设施（监测系统）',
                                            name: '反射镜',
                                            code: 'FTIR-03',
                                            sn: null,
                                            model: null,
                                            manufacturer: null,
                                            parentName: '开放式傅里叶红外光谱分析仪',
                                            parentPaths: null,
                                            usePeriod: null,
                                            enableTime: null,
                                            status: '启用',
                                            remark: null,
                                            type: null,
                                            position: null,
                                            createTime: '2025-11-27 16:19:11',
                                            purchaseTime: null,
                                            longitude: null,
                                            latitude: null,
                                            address: {
                                                formattedAddress: '',
                                            },
                                            files: null,
                                            no: '4-(1)-②',
                                            children: null,
                                        },
                                        {
                                            id: '1993957759972143105',
                                            parentId: '1993957760395767809',
                                            companyId: '1990302269875875842',
                                            typeId: null,
                                            modelId: null,
                                            manufacturerId: null,
                                            category: '配套设施（监测系统）',
                                            name: '反射镜',
                                            code: 'FTIR-04',
                                            sn: null,
                                            model: null,
                                            manufacturer: null,
                                            parentName: '开放式傅里叶红外光谱分析仪',
                                            parentPaths: null,
                                            usePeriod: null,
                                            enableTime: null,
                                            status: '启用',
                                            remark: null,
                                            type: null,
                                            position: null,
                                            createTime: '2025-11-27 16:19:11',
                                            purchaseTime: null,
                                            longitude: null,
                                            latitude: null,
                                            address: {
                                                formattedAddress: '',
                                            },
                                            files: null,
                                            no: '4-(1)-③',
                                            children: null,
                                        },
                                        {
                                            id: '1993957759959560193',
                                            parentId: '1993957760395767809',
                                            companyId: '1990302269875875842',
                                            typeId: null,
                                            modelId: null,
                                            manufacturerId: null,
                                            category: '配套设施（监测系统）',
                                            name: '反射镜',
                                            code: 'FTIR-05',
                                            sn: null,
                                            model: null,
                                            manufacturer: null,
                                            parentName: '开放式傅里叶红外光谱分析仪',
                                            parentPaths: null,
                                            usePeriod: null,
                                            enableTime: null,
                                            status: '启用',
                                            remark: null,
                                            type: null,
                                            position: null,
                                            createTime: '2025-11-27 16:19:11',
                                            purchaseTime: null,
                                            longitude: null,
                                            latitude: null,
                                            address: {
                                                formattedAddress: '',
                                            },
                                            files: null,
                                            no: '4-(1)-④',
                                            children: null,
                                        },
                                    ],
                                },
                                {
                                    id: '1993957760227995650',
                                    parentId: '1993957760504819714',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764617',
                                    manufacturerId: '1993957759661764610',
                                    category: '采集设备',
                                    name: '数据采集传输仪',
                                    code: 'YJ-2000-04',
                                    sn: null,
                                    model: 'YJ-2000',
                                    manufacturer: '广东中联兴环保科技有限公司',
                                    parentName: '国宏站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '4-(2)',
                                    children: null,
                                },
                                {
                                    id: '1993957759946977281',
                                    parentId: '1993957760504819714',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764615',
                                    manufacturerId: null,
                                    category: '分析仪',
                                    name: '气象五参数仪',
                                    code: 'ZSQX-04',
                                    sn: null,
                                    model: 'MC500',
                                    manufacturer: null,
                                    parentName: '国宏站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '4-(3)',
                                    children: null,
                                },
                                {
                                    id: '1993957759800176642',
                                    parentId: '1993957760504819714',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: null,
                                    category: '配套设施',
                                    name: '监控录像机',
                                    code: 'ZSJKLX-04',
                                    sn: null,
                                    model: null,
                                    manufacturer: null,
                                    parentName: '国宏站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '4-(4)',
                                    children: null,
                                },
                            ],
                        },
                        {
                            id: '1993957760492236801',
                            parentId: null,
                            companyId: '1990302269875875842',
                            typeId: null,
                            modelId: null,
                            manufacturerId: null,
                            category: '监测站房',
                            name: '湘虹站',
                            code: 'zs-05',
                            sn: null,
                            model: null,
                            manufacturer: null,
                            parentName: null,
                            parentPaths: null,
                            usePeriod: null,
                            enableTime: null,
                            status: '启用',
                            remark: null,
                            type: null,
                            position: null,
                            createTime: '2025-11-27 16:19:11',
                            purchaseTime: null,
                            longitude: null,
                            latitude: null,
                            address: null,
                            files: [],
                            no: '5',
                            children: [
                                {
                                    id: '1993957760316076034',
                                    parentId: '1993957760492236801',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: '1993957759661764614',
                                    category: '分析仪',
                                    name: '卤代烃在线监测仪',
                                    code: 'ZSECD-02',
                                    sn: null,
                                    model: null,
                                    manufacturer: '上海磐合科学仪器股份有限公司',
                                    parentName: '湘虹站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '5-(1)',
                                    children: [
                                        {
                                            id: '1993957759888257026',
                                            parentId: '1993957760316076034',
                                            companyId: '1990302269875875842',
                                            typeId: null,
                                            modelId: null,
                                            manufacturerId: '1993957759661764614',
                                            category: '配套设施（监测系统）',
                                            name: '氢气/空气一体机',
                                            code: 'ECD-03',
                                            sn: null,
                                            model: null,
                                            manufacturer: '上海磐合科学仪器股份有限公司',
                                            parentName: '卤代烃在线监测仪',
                                            parentPaths: null,
                                            usePeriod: null,
                                            enableTime: null,
                                            status: '启用',
                                            remark: null,
                                            type: null,
                                            position: null,
                                            createTime: '2025-11-27 16:19:11',
                                            purchaseTime: null,
                                            longitude: null,
                                            latitude: null,
                                            address: {
                                                formattedAddress: '',
                                            },
                                            files: null,
                                            no: '5-(1)-①',
                                            children: null,
                                        },
                                    ],
                                },
                                {
                                    id: '1993957760307687425',
                                    parentId: '1993957760492236801',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764618',
                                    manufacturerId: '1993957759661764614',
                                    category: '分析仪',
                                    name: '气相色谱-氢火焰离子有机胺在线分析仪',
                                    code: 'ZSYJA-02',
                                    sn: null,
                                    model: 'AQA-1000',
                                    manufacturer: '上海磐合科学仪器股份有限公司',
                                    parentName: '湘虹站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '5-(2)',
                                    children: [
                                        {
                                            id: '1993957759879868417',
                                            parentId: '1993957760307687425',
                                            companyId: '1990302269875875842',
                                            typeId: null,
                                            modelId: null,
                                            manufacturerId: null,
                                            category: '配套设施（监测系统）',
                                            name: '氢气/空气一体机',
                                            code: 'YJA-03',
                                            sn: null,
                                            model: null,
                                            manufacturer: null,
                                            parentName: '气相色谱-氢火焰离子有机胺在线分析仪',
                                            parentPaths: null,
                                            usePeriod: null,
                                            enableTime: null,
                                            status: '启用',
                                            remark: null,
                                            type: null,
                                            position: null,
                                            createTime: '2025-11-27 16:19:11',
                                            purchaseTime: null,
                                            longitude: null,
                                            latitude: null,
                                            address: {
                                                formattedAddress: '',
                                            },
                                            files: null,
                                            no: '5-(2)-①',
                                            children: null,
                                        },
                                    ],
                                },
                                {
                                    id: '1993957760215412737',
                                    parentId: '1993957760492236801',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764617',
                                    manufacturerId: '1993957759661764610',
                                    category: '采集设备',
                                    name: '数据采集传输仪',
                                    code: 'YJ-2000-05',
                                    sn: null,
                                    model: 'YJ-2000',
                                    manufacturer: '广东中联兴环保科技有限公司',
                                    parentName: '湘虹站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '5-(3)',
                                    children: null,
                                },
                                {
                                    id: '1993957759867285506',
                                    parentId: '1993957760492236801',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: null,
                                    category: '配套设施（监测系统）',
                                    name: '加热采样总管',
                                    code: 'CY-05',
                                    sn: null,
                                    model: null,
                                    manufacturer: null,
                                    parentName: '湘虹站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '5-(4)',
                                    children: null,
                                },
                                {
                                    id: '1993957759846313986',
                                    parentId: '1993957760492236801',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764615',
                                    manufacturerId: null,
                                    category: '分析仪',
                                    name: '气象五参数仪',
                                    code: 'ZSQX-07',
                                    sn: null,
                                    model: 'MC500',
                                    manufacturer: null,
                                    parentName: '湘虹站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '5-(5)',
                                    children: null,
                                },
                                {
                                    id: '1993957759791788034',
                                    parentId: '1993957760492236801',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: null,
                                    category: '配套设施',
                                    name: '监控录像机',
                                    code: 'ZSJKLX-05',
                                    sn: null,
                                    model: null,
                                    manufacturer: null,
                                    parentName: '湘虹站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '5-(6)',
                                    children: null,
                                },
                            ],
                        },
                        {
                            id: '1993957760479653890',
                            parentId: null,
                            companyId: '1990302269875875842',
                            typeId: null,
                            modelId: null,
                            manufacturerId: null,
                            category: '监测站房',
                            name: '科海站',
                            code: 'zs-06',
                            sn: null,
                            model: null,
                            manufacturer: null,
                            parentName: null,
                            parentPaths: null,
                            usePeriod: null,
                            enableTime: null,
                            status: '启用',
                            remark: null,
                            type: null,
                            position: null,
                            createTime: '2025-11-27 16:19:11',
                            purchaseTime: null,
                            longitude: null,
                            latitude: null,
                            address: null,
                            files: [],
                            no: '6',
                            children: [
                                {
                                    id: '1993957760295104513',
                                    parentId: '1993957760479653890',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: '1993957759661764614',
                                    category: '分析仪',
                                    name: 'PAMS在线监测仪',
                                    code: 'ZSPAMS-01',
                                    sn: null,
                                    model: null,
                                    manufacturer: '上海磐合科学仪器股份有限公司',
                                    parentName: '科海站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '6-(1)',
                                    children: [
                                        {
                                            id: '1993957760106360834',
                                            parentId: '1993957760295104513',
                                            companyId: '1990302269875875842',
                                            typeId: null,
                                            modelId: null,
                                            manufacturerId: null,
                                            category: '配套设施（监测系统）',
                                            name: '氢气/空气一体机',
                                            code: 'PAMS -01',
                                            sn: null,
                                            model: null,
                                            manufacturer: null,
                                            parentName: 'PAMS在线监测仪',
                                            parentPaths: null,
                                            usePeriod: null,
                                            enableTime: null,
                                            status: '启用',
                                            remark: null,
                                            type: null,
                                            position: null,
                                            createTime: '2025-11-27 16:19:11',
                                            purchaseTime: null,
                                            longitude: null,
                                            latitude: null,
                                            address: {
                                                formattedAddress: '',
                                            },
                                            files: null,
                                            no: '6-(1)-①',
                                            children: null,
                                        },
                                    ],
                                },
                                {
                                    id: '1993957760282521602',
                                    parentId: '1993957760479653890',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764618',
                                    manufacturerId: '1993957759661764614',
                                    category: '分析仪',
                                    name: '气相色谱-氢火焰离子有机胺在线分析仪',
                                    code: 'ZSYJA-03',
                                    sn: null,
                                    model: 'AQA-1000',
                                    manufacturer: '上海磐合科学仪器股份有限公司',
                                    parentName: '科海站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '6-(2)',
                                    children: [
                                        {
                                            id: '1993957760118943745',
                                            parentId: '1993957760282521602',
                                            companyId: '1990302269875875842',
                                            typeId: null,
                                            modelId: null,
                                            manufacturerId: null,
                                            category: '配套设施（监测系统）',
                                            name: '氢气/空气一体机',
                                            code: 'YJA-01',
                                            sn: null,
                                            model: null,
                                            manufacturer: null,
                                            parentName: '气相色谱-氢火焰离子有机胺在线分析仪',
                                            parentPaths: null,
                                            usePeriod: null,
                                            enableTime: null,
                                            status: '启用',
                                            remark: null,
                                            type: null,
                                            position: null,
                                            createTime: '2025-11-27 16:19:11',
                                            purchaseTime: null,
                                            longitude: null,
                                            latitude: null,
                                            address: {
                                                formattedAddress: '',
                                            },
                                            files: null,
                                            no: '6-(2)-①',
                                            children: null,
                                        },
                                    ],
                                },
                                {
                                    id: '1993957760202829826',
                                    parentId: '1993957760479653890',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764617',
                                    manufacturerId: '1993957759661764610',
                                    category: '采集设备',
                                    name: '数据采集传输仪',
                                    code: 'YJ-2000-06',
                                    sn: null,
                                    model: 'YJ-2000',
                                    manufacturer: '广东中联兴环保科技有限公司',
                                    parentName: '科海站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '6-(3)',
                                    children: null,
                                },
                                {
                                    id: '1993957760093777921',
                                    parentId: '1993957760479653890',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: null,
                                    category: '配套设施（监测系统）',
                                    name: '加热采样总管',
                                    code: 'CY-02',
                                    sn: null,
                                    model: null,
                                    manufacturer: null,
                                    parentName: '科海站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '6-(4)',
                                    children: null,
                                },
                                {
                                    id: '1993957760081195010',
                                    parentId: '1993957760479653890',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764615',
                                    manufacturerId: null,
                                    category: '分析仪',
                                    name: '气象五参数仪',
                                    code: 'ZSQX-02',
                                    sn: null,
                                    model: 'MC500',
                                    manufacturer: null,
                                    parentName: '科海站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '6-(5)',
                                    children: null,
                                },
                                {
                                    id: '1993957760068612097',
                                    parentId: '1993957760479653890',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: null,
                                    category: '配套设施',
                                    name: '自动清罐仪',
                                    code: 'QGY-01',
                                    sn: null,
                                    model: null,
                                    manufacturer: null,
                                    parentName: '科海站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '6-(6)',
                                    children: null,
                                },
                                {
                                    id: '1993957760056029186',
                                    parentId: '1993957760479653890',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: null,
                                    category: '配套设施',
                                    name: '自动稀释仪',
                                    code: 'XSY-01',
                                    sn: null,
                                    model: null,
                                    manufacturer: null,
                                    parentName: '科海站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '6-(7)',
                                    children: null,
                                },
                                {
                                    id: '1993957759779205121',
                                    parentId: '1993957760479653890',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: null,
                                    category: '配套设施',
                                    name: '监控录像机',
                                    code: 'ZSJKLX-06',
                                    sn: null,
                                    model: null,
                                    manufacturer: null,
                                    parentName: '科海站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '6-(8)',
                                    children: null,
                                },
                            ],
                        },
                        {
                            id: '1993957760467070978',
                            parentId: null,
                            companyId: '1990302269875875842',
                            typeId: null,
                            modelId: null,
                            manufacturerId: null,
                            category: '监测站房',
                            name: '司太立站',
                            code: 'zs-07',
                            sn: null,
                            model: null,
                            manufacturer: null,
                            parentName: null,
                            parentPaths: null,
                            usePeriod: null,
                            enableTime: null,
                            status: '启用',
                            remark: null,
                            type: null,
                            position: null,
                            createTime: '2025-11-27 16:19:11',
                            purchaseTime: null,
                            longitude: null,
                            latitude: null,
                            address: null,
                            files: [],
                            no: '7',
                            children: [
                                {
                                    id: '1993957760274132994',
                                    parentId: '1993957760467070978',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: '1993957759661764614',
                                    category: '分析仪',
                                    name: '卤代烃在线监测仪',
                                    code: 'ZSECD-03',
                                    sn: null,
                                    model: null,
                                    manufacturer: '上海磐合科学仪器股份有限公司',
                                    parentName: '司太立站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '7-(1)',
                                    children: [
                                        {
                                            id: '1993957759921811457',
                                            parentId: '1993957760274132994',
                                            companyId: '1990302269875875842',
                                            typeId: null,
                                            modelId: null,
                                            manufacturerId: '1993957759661764614',
                                            category: '配套设施（监测系统）',
                                            name: '氢气/空气一体机',
                                            code: 'ECD-02',
                                            sn: null,
                                            model: null,
                                            manufacturer: '上海磐合科学仪器股份有限公司',
                                            parentName: '卤代烃在线监测仪',
                                            parentPaths: null,
                                            usePeriod: null,
                                            enableTime: null,
                                            status: '启用',
                                            remark: null,
                                            type: null,
                                            position: null,
                                            createTime: '2025-11-27 16:19:11',
                                            purchaseTime: null,
                                            longitude: null,
                                            latitude: null,
                                            address: {
                                                formattedAddress: '',
                                            },
                                            files: null,
                                            no: '7-(1)-①',
                                            children: null,
                                        },
                                    ],
                                },
                                {
                                    id: '1993957760186052609',
                                    parentId: '1993957760467070978',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764617',
                                    manufacturerId: '1993957759661764610',
                                    category: '采集设备',
                                    name: '数据采集传输仪',
                                    code: 'YJ-2000-07',
                                    sn: null,
                                    model: 'YJ-2000',
                                    manufacturer: '广东中联兴环保科技有限公司',
                                    parentName: '司太立站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '7-(2)',
                                    children: null,
                                },
                                {
                                    id: '1993957759909228546',
                                    parentId: '1993957760467070978',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: null,
                                    category: '配套设施（监测系统）',
                                    name: '加热采样总管',
                                    code: 'CY-04',
                                    sn: null,
                                    model: null,
                                    manufacturer: null,
                                    parentName: '司太立站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '7-(3)',
                                    children: null,
                                },
                                {
                                    id: '1993957759900839938',
                                    parentId: '1993957760467070978',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: '1993957759661764615',
                                    manufacturerId: null,
                                    category: '分析仪',
                                    name: '气象五参数仪',
                                    code: 'ZSQX-06',
                                    sn: null,
                                    model: 'MC500',
                                    manufacturer: null,
                                    parentName: '司太立站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '7-(4)',
                                    children: null,
                                },
                                {
                                    id: '1993957759770816514',
                                    parentId: '1993957760467070978',
                                    companyId: '1990302269875875842',
                                    typeId: null,
                                    modelId: null,
                                    manufacturerId: null,
                                    category: '配套设施',
                                    name: '监控录像机',
                                    code: 'ZSJKLX-07',
                                    sn: null,
                                    model: null,
                                    manufacturer: null,
                                    parentName: '司太立站',
                                    parentPaths: null,
                                    usePeriod: null,
                                    enableTime: null,
                                    status: '启用',
                                    remark: null,
                                    type: null,
                                    position: null,
                                    createTime: '2025-11-27 16:19:11',
                                    purchaseTime: null,
                                    longitude: null,
                                    latitude: null,
                                    address: {
                                        formattedAddress: '',
                                    },
                                    files: null,
                                    no: '7-(5)',
                                    children: null,
                                },
                            ],
                        },
                        {
                            id: '1993957759758233601',
                            parentId: null,
                            companyId: '1990302269875875842',
                            typeId: null,
                            modelId: null,
                            manufacturerId: null,
                            category: '其他设备',
                            name: '项目（勿删）T-YJ2020003',
                            code: 'T-YJ2020003',
                            sn: null,
                            model: null,
                            manufacturer: null,
                            parentName: null,
                            parentPaths: null,
                            usePeriod: null,
                            enableTime: null,
                            status: '启用',
                            remark: null,
                            type: null,
                            position: null,
                            createTime: '2025-11-27 16:19:11',
                            purchaseTime: null,
                            longitude: null,
                            latitude: null,
                            address: null,
                            files: [],
                            no: '8',
                            children: null,
                        },
                        {
                            id: '1993957759745650689',
                            parentId: null,
                            companyId: '1990302269875875842',
                            typeId: null,
                            modelId: null,
                            manufacturerId: null,
                            category: '其他设备',
                            name: '监控中心机房',
                            code: 'ZSJF-01',
                            sn: null,
                            model: null,
                            manufacturer: null,
                            parentName: null,
                            parentPaths: null,
                            usePeriod: null,
                            enableTime: null,
                            status: '启用',
                            remark: null,
                            type: null,
                            position: null,
                            createTime: '2025-11-27 16:19:11',
                            purchaseTime: null,
                            longitude: null,
                            latitude: null,
                            address: null,
                            files: [],
                            no: '9',
                            children: null,
                        },
                    ],
                },
            })
        }, 3000)
    })
}

const handleSourceSuccess = async (res) => {
    return {
        list: res?.data?.list,
        total: 0,
    }
}
const apis = ref<TableProps['apis']>({
    list: getListApis,
    details: getUserDetailsApi,
    create: createUserApi,
    update: updateUserApi,
    delete: deleteUserApi,
    template: downloadUserTemplateByBlobApi,
    export: exportUsersByBufferApi,
    import: importUserApi,
})

const sexOptions = [
    {
        label: '男',
        value: 1,
    },
    {
        label: '女',
        value: 0,
    },
]

const columns = computed((): TableProps['columns'] => {
    return [
        {
            title: 'id',
            dataIndex: 'id',
            hidden: true,
            formItemProps: {
                hidden: true,
            },
            descItemProps: {
                hidden: true,
            },
        },

        {
            title: '用户名',
            dataIndex: 'username',
            width: 100,
        },

        {
            title: '昵称',
            width: 100,
            dataIndex: 'nickname',
        },
        {
            title: '年龄',
            dataIndex: 'age',
            type: 'number',
            formItemProps: {
                control: ControlMapType.InputNumber,
            },
            width: 100,
        },
        {
            title: '性别',
            dataIndex: 'sex',
            formItemProps: {
                control: ControlMapType.Select,
                controlProps: {
                    options: sexOptions,
                },
            },
            width: 100,

            customRender: ({ text }) => sexOptions?.find?.(({ value }) => value === text)?.label,
        },
        {
            title: '职业',
            dataIndex: 'occupation',
            width: 100,
        },
    ]
})

const queryFormItems = computed((): TableProps['queryFormItems'] => [
    {
        label: '用户名',
        name: 'username',
    },
    {
        label: '昵称',
        name: 'nickname',
    },
    {
        label: '年龄',
        name: 'age',
    },
    {
        label: '性别',
        name: 'sex',
        control: ControlMapType.Select,
        controlProps: {
            options: sexOptions,
            style: {
                width: '120px',
            },
        },
    },
])
</script>

<style scoped></style>
